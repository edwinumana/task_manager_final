# üöÄ Task Manager - Sistema de Gesti√≥n de Tareas con IA

**Fuente**: Arial 12  
**Interlineado**: 1.5

## üìã Descripci√≥n del Proyecto

**Task Manager** es una aplicaci√≥n web empresarial desarrollada en **Flask** que permite la gesti√≥n completa de tareas a partir de historias de usuario, integrada con **Azure OpenAI** para automatizaci√≥n inteligente y an√°lisis de riesgos. La aplicaci√≥n est√° completamente containerizada con **Docker** y cuenta con un pipeline de **CI/CD** automatizado usando **GitHub Actions**.

### üéØ Caracter√≠sticas Principales

- **Gesti√≥n Completa de Tareas**: CRUD completo con 23 endpoints activos
- **Inteligencia Artificial**: Integraci√≥n con Azure OpenAI para generaci√≥n autom√°tica de descripciones, categorizaci√≥n, estimaci√≥n de esfuerzo y an√°lisis de riesgos
- **Historias de Usuario**: Metodolog√≠a √°gil con puntos de historia y estimaci√≥n de horas
- **Base de Datos H√≠brida**: Soporte para Azure MySQL con fallback a JSON
- **Interfaz Responsiva**: Bootstrap 5 con gr√°ficos estad√≠sticos usando Chart.js
- **Sistema de Testing**: 35 tests automatizados con pytest (94.3% de √©xito)
- **Containerizaci√≥n**: Docker multi-stage optimizado para producci√≥n
- **CI/CD Automatizado**: Pipeline completo con GitHub Actions y Docker Hub

---

## üèóÔ∏è Arquitectura de la Aplicaci√≥n

### **Estructura de Directorios**

```
task_manager/
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îî‚îÄ‚îÄ ci-cd.yml          # Pipeline CI/CD automatizado
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ controllers/           # L√≥gica de negocio
‚îÇ   ‚îú‚îÄ‚îÄ database/             # Conexi√≥n y migraciones BD
‚îÇ   ‚îú‚îÄ‚îÄ models/               # Modelos de datos
‚îÇ   ‚îú‚îÄ‚îÄ routes/               # Rutas/endpoints
‚îÇ   ‚îú‚îÄ‚îÄ schemas/              # Esquemas de validaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ services/             # Servicios (IA, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ templates/            # Plantillas HTML
‚îÇ   ‚îî‚îÄ‚îÄ utils/                # Utilidades
‚îú‚îÄ‚îÄ tests/                    # Suite de pruebas automatizadas
‚îú‚îÄ‚îÄ config.py                 # Configuraci√≥n
‚îú‚îÄ‚îÄ run.py                    # Punto de entrada
‚îú‚îÄ‚îÄ requirements.txt          # Dependencias
‚îú‚îÄ‚îÄ Dockerfile               # Imagen Docker optimizada
‚îú‚îÄ‚îÄ docker-compose.yml       # Orquestaci√≥n local
‚îî‚îÄ‚îÄ .dockerignore           # Optimizaci√≥n de build
```

### **Componentes Principales**

#### **1. Modelos de Datos**
- **Task**: Modelo principal de tareas
- **UserStory**: Historias de usuario (metodolog√≠a √°gil)
- **TaskDB/UserStoryDB**: Modelos para base de datos

#### **2. Controladores**
- **TaskController**: CRUD de tareas + funciones de IA
- **UserStoryController**: Gesti√≥n de historias de usuario
- **AIController**: Servicios de inteligencia artificial

#### **3. Rutas/Endpoints**
- **task_routes**: API REST para tareas
- **user_story_routes**: API para historias de usuario
- **ai_routes**: Endpoints espec√≠ficos de IA

---

## üîß Tecnolog√≠as Utilizadas

### **Backend**
- **Flask 2.0.1**: Framework web principal
- **SQLAlchemy 1.4.23**: ORM para base de datos
- **Azure OpenAI**: Servicios de inteligencia artificial
- **Azure MySQL**: Base de datos principal
- **Pydantic 2.5.0**: Validaci√≥n de datos

### **Frontend**
- **Bootstrap 5**: Framework CSS responsivo
- **Chart.js**: Gr√°ficos estad√≠sticos
- **JavaScript ES6+**: Interactividad
- **AJAX/Fetch**: Comunicaci√≥n as√≠ncrona

### **DevOps**
- **Docker**: Containerizaci√≥n
- **Docker Compose**: Orquestaci√≥n local
- **GitHub Actions**: CI/CD Pipeline automatizado
- **Docker Hub**: Registro de im√°genes
- **pytest**: Testing automatizado

---

## üöÄ Pipeline CI/CD Automatizado

### **üîÑ Flujo del Pipeline**

El pipeline se ejecuta autom√°ticamente en:
- **Push** a las ramas `main`, `master`, `develop`
- **Pull Request** a `main` o `master`
- **Ejecuci√≥n manual** desde GitHub Actions

### **üìã Etapas del Pipeline**

#### **1. üß™ Testing & Quality Checks**
```yaml
- Tests unitarios con pytest
- Tests de integraci√≥n
- Tests de funcionalidad core
- Generaci√≥n de reportes de cobertura
- Verificaci√≥n de calidad de c√≥digo
```

#### **2. üê≥ Build Docker Image**
```yaml
- Construcci√≥n de imagen Docker optimizada
- Pruebas de salud del contenedor
- Verificaci√≥n de endpoints principales
- Guardado de imagen como artefacto
```

#### **3. üöÄ Push to Docker Hub**
```yaml
- Autenticaci√≥n con Docker Hub
- Generaci√≥n de tags autom√°ticos:
  - latest
  - SHA del commit
  - N√∫mero de build (v1, v2, etc.)
- Subida a Docker Hub
```

#### **4. ‚úÖ Deployment Verification**
```yaml
- Descarga de imagen desde Docker Hub
- Pruebas de despliegue en contenedor
- Verificaci√≥n de funcionamiento
- Confirmaci√≥n de disponibilidad
```

---

## üîê Configuraci√≥n de Secretos de Docker Hub

### **Paso 1: Obtener Credenciales de Docker Hub**

1. Crear cuenta en [Docker Hub](https://hub.docker.com/)
2. Ir a **Account Settings** > **Security**
3. Crear un **Access Token** con permisos de escritura
4. Copiar el token generado

### **Paso 2: Configurar Secretos en GitHub**

1. Ir a tu repositorio en GitHub
2. Navegar a **Settings** > **Secrets and variables** > **Actions**
3. Hacer clic en **New repository secret**
4. Agregar los siguientes secretos:

```
DOCKER_USERNAME: tu-usuario-docker-hub
DOCKER_PASSWORD: tu-access-token-docker-hub
```

### **Paso 3: Verificar Configuraci√≥n**

El pipeline verificar√° autom√°ticamente la configuraci√≥n en la primera ejecuci√≥n.

---

## üê≥ Instrucciones de Despliegue

### **Opci√≥n 1: Usar Imagen desde Docker Hub (Recomendado)**

```bash
# Descargar y ejecutar la imagen m√°s reciente
docker pull edwinumana/task-manager:latest
docker run -p 5000:5000 edwinumana/task-manager:latest

# O usar docker-compose
curl -o docker-compose.yml https://raw.githubusercontent.com/tu-usuario/task_manager_final/main/docker-compose.yml
docker-compose up -d
```

### **Opci√≥n 2: Construir Localmente**

```bash
# Clonar el repositorio
git clone https://github.com/tu-usuario/task_manager_final.git
cd task_manager_final

# Construir y ejecutar con Docker Compose
docker-compose up --build -d
```

### **Opci√≥n 3: Desarrollo Local**

```bash
# Instalar dependencias
cd task_manager
pip install -r requirements.txt

# Ejecutar aplicaci√≥n
python run.py
```

### **Acceso a la Aplicaci√≥n**

Una vez desplegada, la aplicaci√≥n estar√° disponible en:
- **URL**: http://localhost:5000
- **Puerto**: 5000

---

## üß™ Sistema de Testing Automatizado

### **Estad√≠sticas de Testing**
- **Total de tests**: 35
- **Tests exitosos**: 33
- **Tasa de √©xito**: 94.3%
- **Cobertura**: Tests independientes al 100%

### **Categor√≠as de Tests**
- **Tests unitarios**: Funcionalidad individual de componentes
- **Tests de integraci√≥n**: Interacci√≥n entre componentes
- **Tests core**: Funcionalidad b√°sica independiente
- **Tests de IA**: Servicios de inteligencia artificial
- **Tests de base de datos**: Operaciones CRUD

### **Ejecutar Tests Localmente**

```bash
# Tests completos
cd task_manager
python -m pytest tests/ -v

# Tests espec√≠ficos por categor√≠a
python -m pytest tests/ -m "unit" -v          # Solo tests unitarios
python -m pytest tests/ -m "integration" -v   # Solo tests de integraci√≥n
python -m pytest tests/ -m "core" -v          # Solo tests core

# Tests con cobertura
python -m pytest tests/ --cov=app --cov-report=html
```

### **Integraci√≥n con CI/CD**

Los tests se ejecutan autom√°ticamente en el pipeline:
- **Tests unitarios**: Verifican funcionalidad individual
- **Tests de integraci√≥n**: Prueban interacci√≥n entre componentes
- **Tests core**: Validan funcionalidad b√°sica
- **Reportes de cobertura**: Generados autom√°ticamente

---

## üåê Funcionalidades Principales

### **Gesti√≥n de Tareas**
- **CRUD Completo**: Crear, leer, actualizar, eliminar tareas
- **Estados**: Pendiente, En Progreso, En Revisi√≥n, Completada
- **Prioridades**: Baja, Media, Alta, Bloqueante
- **Categorizaci√≥n**: 15 categor√≠as especializadas

### **Inteligencia Artificial**
- **Generaci√≥n Autom√°tica**: Descripciones inteligentes
- **Categorizaci√≥n**: Clasificaci√≥n autom√°tica por tipo
- **Estimaci√≥n**: C√°lculo de horas de esfuerzo
- **An√°lisis de Riesgos**: Identificaci√≥n de riesgos potenciales
- **Planes de Mitigaci√≥n**: Estrategias de reducci√≥n de riesgos

### **Historias de Usuario**
- **Metodolog√≠a √Ågil**: Gesti√≥n completa de user stories
- **Puntos de Historia**: Estimaci√≥n √°gil
- **Generaci√≥n de Tareas**: Creaci√≥n autom√°tica desde historias
- **Trazabilidad**: Relaci√≥n entre historias y tareas

### **Estad√≠sticas y Reportes**
- **Dashboard**: Visualizaci√≥n de m√©tricas clave
- **Gr√°ficos**: Distribuci√≥n por estado, categor√≠a, prioridad
- **An√°lisis**: Tendencias y patrones de trabajo
- **Exportaci√≥n**: Datos en formato JSON

---

## üìä Monitoreo y Mantenimiento

### **Health Checks**
- **Endpoint de salud**: `/tasks` para verificar disponibilidad
- **Docker Health Check**: Verificaci√≥n autom√°tica del contenedor
- **Pipeline Verification**: Validaci√≥n post-despliegue

### **Logs y Debugging**
```bash
# Ver logs del contenedor
docker logs [container-name]

# Acceder al contenedor para debugging
docker exec -it [container-name] /bin/bash

# Verificar estado del pipeline
# Revisar en GitHub Actions > tu-repositorio > Actions
```

### **Actualizaciones Autom√°ticas**
- **Trigger autom√°tico**: Push a rama principal
- **Versionado**: Tags autom√°ticos con SHA y n√∫mero de build
- **Rollback**: Usar tags espec√≠ficos para volver a versiones anteriores

---

## üîß Configuraci√≥n Avanzada

### **Variables de Entorno**

```env
# Configuraci√≥n b√°sica
SECRET_KEY=tu-clave-secreta-aqui
FLASK_ENV=production

# Azure OpenAI (opcional)
AZURE_OPENAI_API_KEY=tu-api-key
AZURE_OPENAI_ENDPOINT=tu-endpoint
AZURE_OPENAI_API_VERSION=2023-05-15
AZURE_OPENAI_DEPLOYMENT_NAME=tu-deployment

# Azure MySQL (opcional)
AZURE_MYSQL_CONNECTION_STRING=tu-connection-string
AZURE_MYSQL_SSL_CA=path-to-ca-cert
AZURE_MYSQL_SSL_VERIFY=true
```

### **Configuraci√≥n de Docker Compose**

```yaml
# docker-compose.yml personalizado
services:
  task-manager:
    image: edwinumana/task-manager:latest
    ports:
      - "5000:5000"
    environment:
      - FLASK_ENV=production
      - SECRET_KEY=${SECRET_KEY}
    volumes:
      - ./data:/app/data
    restart: unless-stopped
```

---

## üöÄ Despliegue en Producci√≥n

### **Recomendaciones**
1. **Usar tags espec√≠ficos** en lugar de `latest` para producci√≥n
2. **Configurar variables de entorno** apropiadas
3. **Implementar monitoreo** y alertas
4. **Configurar backup** de datos
5. **Usar HTTPS** con certificados SSL

### **Ejemplo de Despliegue**
```bash
# Despliegue con tag espec√≠fico
docker run -d \
  --name task-manager-prod \
  -p 80:5000 \
  -e SECRET_KEY=tu-clave-secreta-produccion \
  -e FLASK_ENV=production \
  -v /opt/task-manager/data:/app/data \
  --restart unless-stopped \
  edwinumana/task-manager:v123
```

---

## üìû Soporte y Contribuci√≥n

### **Reportar Issues**
- Usar el sistema de Issues de GitHub
- Incluir logs y pasos para reproducir
- Especificar versi√≥n de la imagen Docker

### **Contribuir**
1. Fork del repositorio
2. Crear rama para feature/bugfix
3. Ejecutar tests localmente
4. Enviar Pull Request
5. El pipeline validar√° autom√°ticamente los cambios

### **Recursos Adicionales**
- **Docker Hub**: https://hub.docker.com/r/edwinumana/task-manager
- **GitHub Actions**: Revisar en la pesta√±a Actions del repositorio
- **Documentaci√≥n**: Archivos README en subdirectorios

---

## üìÑ Licencia

Este proyecto est√° bajo la Licencia MIT. Ver el archivo `LICENSE` para m√°s detalles.

---

## üéâ Conclusi√≥n

**Task Manager** es una aplicaci√≥n completa y robusta que combina:
- ‚úÖ **Desarrollo moderno** con Flask y Python
- ‚úÖ **Inteligencia Artificial** con Azure OpenAI
- ‚úÖ **Containerizaci√≥n** con Docker
- ‚úÖ **CI/CD automatizado** con GitHub Actions
- ‚úÖ **Testing automatizado** con pytest
- ‚úÖ **Despliegue simplificado** con Docker Hub

**¬°Listo para usar en producci√≥n!** üöÄ